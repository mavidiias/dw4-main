<script>

let unidades = [
        { nome: 'Lito', cÃ³digo: 'L ğŸ¾', valor: 1 },
        { nome: 'Gota', cÃ³digo: 'Gota ğŸ’§', valor: 0.00005  },
        { nome: 'Colher de chÃ¡', cÃ³digo: 'C chÃ¡ ğŸ¥„', valor: 0.0049 },
        { nome: 'Colher de sobremesa', cÃ³digo: 'C sobre ğŸ¥„', valor: 0.0098 },
        { nome: 'Colher de sopa', cÃ³digo: 'C sopa ğŸ¥„', valor: 0.0147 },
        { nome: 'XÃ­cara', cÃ³digo: 'Xic â˜•', valor: 0.236 },
        { nome: 'GalÃ£o', cÃ³digo: 'GalÃ£o ğŸ¶', valor: 3.785 },
        { nome: 'Barril', cÃ³digo: 'Barril ğŸª£', valor: 158.987 },
        { nome: 'Tonel', cÃ³digo: 'Tonel ğŸ›¢ï¸', valor: 953.923 },
        { nome: 'Metro cÃºbico', cÃ³digo: 'MÂ³ ğŸ§Š', valor: 1000 }
    ];

    let cÃ³digo1 = $state(unidades[0].cÃ³digo);
    let cÃ³digo2 = $state(unidades[1].cÃ³digo);
    let cod1 = $state(unidades[0].valor)
    let cod2 = $state(unidades[1].valor)
    let unidade1 = $state(0);
    let unidade2 = $state(0);
    

    function converterDe() {
        unidade2 = cod2 / cod1;
    }
  
    function converterPara() {
        unidade1 = cod2 * cod1;
    }
    

    function inverterUnidades() {
        [cÃ³digo1, cÃ³digo2] = [cÃ³digo2, cÃ³digo1];
        
        let codtem = unidade1
        unidade1 = unidade2
        unidade2 = codtem

    }
    
</script>

<div class="container">
    <h1 class="titulo">Converssor de unidades</h1>


    <div class="input-group caixinha">
        <select class="form-select" bind:value={cÃ³digo1, cod1} onchange={mudarUnidade}>
            {#each unidades as unidade}
                <option value={unidade.cÃ³digo} title={unidade.nome}>{unidade.cÃ³digo} </option>
            {/each}
        </select>
        <input placeholder="0,00" type="number" class="form-control w-25" oninput={converterDe} bind:value={unidade1} />
        <button class="btn btn-outline-secondary" type="button" onclick={inverterUnidades}>â‡„</button>
        <input placeholder="0,00" type="number" class="form-control w-25" oninput={converterPara} bind:value={unidade2} />
        <select class="form-select" bind:value={cÃ³digo2, cod2} onchange={converterPara}>
            {#each unidades as unidade}
                <option value={unidade.cÃ³digo} title={unidade.nome}>{unidade.cÃ³digo}</option>
            {/each}
        </select>
    </div>
</div>

<style>
    .titulo{
        text-align: center;
        color: rgb(0, 0, 163);
        font-family: 'Lucida Sans';
    }

    .caixinha{
        background-color: rgb(184, 184, 255);
    }

    input {
        background-color: rgb(212, 212, 255);
    }

    select {
        background-color: rgb(184, 184, 255);
    }

</style>